package commanderpepper.objects.player.life

import java.time.Clock
import java.time.Duration
import java.time.OffsetTime
import java.util.*

class InvulnerabilityTime(private val deathTime: Date,
                          private val invulnerabilityTime: Duration = Duration.ofSeconds(3L)) {

    fun isInvulnerable(): Boolean {
//        val currentTime = Duration.ofMillis(System.currentTimeMillis())
        val currentTime = Date(System.currentTimeMillis())
        val invulOffsetTime = Date(deathTime.time + invulnerabilityTime.seconds * 1000)

        val b = currentTime in deathTime..invulOffsetTime
        return b
    }
}